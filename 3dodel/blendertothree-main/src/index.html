<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>HyperTalk</title>
    <link href="static/assets/myimages/favicon.jpg" rel="icon">

    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <!-- <link href="static/assets/img/favicon.png" rel="icon"> -->
    <link href="static/assets_final/img/apple-touch-icon.png" rel="apple-touch-icon"> <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="static/assets_final/vendor/aos/aos.css" rel="stylesheet">
    <link href="static/assets_final/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/assets_final/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="static/assets_final/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="static/assets_final/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="static/assets_final/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="static/assets_final/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/assets/css/style.css">
    <link rel="stylesheet" href="static/assets/css/custom.css">

    <!-- Template Main CSS File -->
    <link href="static/assets_final/css/style.css" rel="stylesheet">
    <link href="static/assets_final/css/custom.css" rel="stylesheet">
</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top d-flex align-items-center">
        <div class="container d-flex align-items-center justify-content-between">

            <div class="logo">
                <img src="static/assets/myimages/favicon.jpg" alt="" width="40px" height="40px" class="hypertalk-logo">

                <h1>
                    <a href="index.html">HyperTalk</a>
                </h1>
            </div>

            <nav id="navbar" class="navbar">
                <ul>
                    <li>
                        <a class="nav-link scrollto active" href="#hero">Home</a>
                    </li>
                    <li>
                        <a class="nav-link scrollto" href="aboutus.html">About</a>
                    </li>
                    <li>
                        <a class="nav-link scrollto" href="team.html">Team</a>
                    </li>

                    <li>
                        <a class="nav-link scrollto" href="contactus.html">Contact Us</a>
                    </li>
                    <li>
                        <a class="getstarted scrollto" href="aboutus.html">Get Started</a>
                    </li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav>
            <!-- .navbar -->

        </div>
    </header>
    <!-- End Header -->

    <!-- ======= Hero Section ======= -->
    <section id="hero" class="position-relative d-flex align-items-center" style="height: 80vh;">
        <img src="static/assets_final/img/main_image.jpg" alt="Main Image"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">

        <div class="hero-overlay"></div>

        <div class="container position-relative main-content">
            <div class="row">
                <div class="col-lg-2 logo-img">
                    <img style="border-radius: 35px;" src="static/assets/myimages/favicon.jpg" alt="Hypertalk logo"
                        class="img-fluid" width="200px" height="200px">
                </div>

                <div
                    class="col-lg-6 pt-5 pt-lg-0 order-2 order-lg-1 d-flex flex-column justify-content-center text-light">
                    <h1 class="yellow-text" data-aos="fade-up">REAL-TIME ASL TRANSLATOR</h1>
                    <h2 class="white-text" data-aos="fade-up" data-aos-delay="400">Converting Sign language to speech
                    </h2>
                    <div data-aos="fade-up" data-aos-delay="800">
                        <!-- Button trigger modal -->
                        <div class="main-btns">
                            <a href="#" class="btn-get-started scrollto btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#sign-language-modal">Sign language to Speech</a>
                            <a href="#" class="btn-services scrollto btn" data-bs-toggle="modal"
                                data-bs-target="#text-to-sign-language-modal">Speech to Sign language</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>


    </section>

    <!-- Sign language to text modal -->
    <div class="modal fade custom-modal" id="sign-language-modal" tabindex="-1"
        aria-labelledby="sign-language-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header sign2speech-model-header">
                    <h5 class="modal-title" id="sign-language-modal-label">Sign language to Speech</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <!-- machine learningmodel -->
                    <section class="section coming-soon video-size" style="padding-top: 0px;" data-section="section2">
                        <div class="">
                            <div class="row">
                                <div class="col-md-12 col-xs-12 video-size mt-0">
                                    <style>
                                        .displayHide {
                                            display: none;
                                        }
                                    </style>
                                    <video id="video" width="640" autoplay class="displayHide"></video>
                                    <canvas id="canvas" width="640" height="480" class="displayHide"></canvas>

                                    <img id="srcImage"
                                        src="https://amayei.nyc3.digitaloceanspaces.com/2020/12/190605-artificial-intelligence-i-think-therefore-i-am.jpg"
                                        alt="" style="width:90%; object-fit:contain; border-radius: 10px;">

                                    <!-- !Loading machine lerning model -->
                                </div>

                                <div class="col-md-12" style="border-radius: 10px">
                                    <div class="row">
                                        <div class="col-md-9 mt-2">
                                            <h4 id="showWord" style="color:rgb(21, 255, 0); word-wrap: break-word;">
                                            </h4>
                                        </div>
                                        <div
                                            class="container d-flex flex-column align-items-center justify-content-center">
                                            <button id="start-camera" class="btn btn-success btn-lg mt-2 mb-1">Start
                                                Capturing</button>
                                            <button id="stop-camera" style="margin-top: 5px"
                                                class="btn btn-danger btn-lg mb-1 displayNone">Stop Capturing</button>
                                            <button id="readWord" style="width: 100%;"
                                                class="btn btn-warning btn-lg mt-1 mb-1 displayNone">Read</button>
                                        </div>




                                        <div class="col-md-12">
                                            <img src="static/assets/myimages/WhatsApp Image 2022-07-01 at 1.12.33 PM.jpeg"
                                                style="width:100%;height:100%;object-fit:scale-down;" alt="">
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary model-close" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Text to sign language modal -->
    <div class="modal fade custom-modal" id="text-to-sign-language-modal" tabindex="-1"
        aria-labelledby="text-to-sign-language-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header speech2sign-model-header">
                    <h5 class="modal-title" id="text-to-sign-language-modal-label">Speech to sign language</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-md-12 col-xs-12 video-size">

                            <!-- load hang model -->
                            <div id="myDiv">
                            </div>


                        </div>
                        <div class="col-md-12 mb-3">

                            <input style="width:90%;" class="mx-3 my-2" type="text" id="result">
                            <br>
                            <div id='record'>
                                <button  class='btn btn-info btn-sm' id="re" onmousedown="startRecording()" onmouseup="stopRecording()">record</button>
                                <button class='btn btn-info btn-sm ml-3' value="Send" id="send">Send</button>
                            </div>
                        </div>

                    </div>



                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary model-close" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- End Hero -->

    <main id="main">

        <!-- ======= Clients Section ======= -->
        <section id="clients" class="clients clients">
            <div class="container">
                <div class="row" style="height: 50px"></div>

            </div>
        </section>
        <!-- End Clients Section -->


        <!-- ======= Services Section ======= -->
        <section id="services" class="services">
            <div class="container">

                <div class="section-title" data-aos="fade-up">
                    <h2>OUR MISSION</h2>
                    <p>HyperTalk is the World's first real time Sign Language translator Mobile app for both Android and
                        IOS, Hyper Bit technologies mission is to,</p>
                </div>

                <div class="row">
                    <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
                        <div class="icon-box" data-aos="fade-up" data-aos-delay="100">
                            <div class="icon">
                                <i class="bx bxl-dribbble"></i>
                            </div>
                            <h4 class="title">
                                <a href="">From disabled to abled:</a>
                            </h4>
                            <p class="description">Many forms of disabilities are common in our society. This includes
                                communication disabilities like deaf and speech-impaired individuals who have a big
                                difficulty when it comes to day-to-day life. Our app is the perfect solution
                                for these patients.</p>
                        </div>
                    </div>

                    <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
                        <div class="icon-box" data-aos="fade-up" data-aos-delay="200">
                            <div class="icon">
                                <i class="bx bx-file"></i>
                            </div>
                            <h4 class="title">
                                <a href="">Educational tool:</a>
                            </h4>
                            <p class="description">To provide an educational tool for anyone who wants to learn ASL by
                                supporting different languages and providing real-time translation.</p>
                        </div>
                    </div>

                    <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
                        <div class="icon-box" data-aos="fade-up" data-aos-delay="300">
                            <div class="icon">
                                <i class="bx bx-tachometer"></i>
                            </div>
                            <h4 class="title">
                                <a href="">Accessibility through SmartPhone:</a>
                            </h4>
                            <p class="description">To improve communication and accessibility for deaf individuals who
                                use ASL by providing real-time translation into English and, eventually, other languages
                                by simply using their smartphones.</p>
                        </div>
                    </div>

                    <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
                        <div class="icon-box" data-aos="fade-up" data-aos-delay="400">
                            <div class="icon">
                                <i class="bx bx-world"></i>
                            </div>
                            <h4 class="title">
                                <a href="">Novelty and Currently no similar apps available:</a>
                            </h4>
                            <p class="description">There are currently no similar apps available in app stores that
                                offer effective real-time ASL translation, making HyperTalk a unique and
                                innovative solution.</p>
                        </div>
                    </div>

                </div>

            </div>
        </section>
        <!-- End Services Section -->


    </main>
    <!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer">
        <div class="container">
            <div class="row d-flex align-items-center">
                <div class="col-lg-6 text-lg-left text-center">
                    <div class="copyright">
                        &copy; Copyright
                        <strong>HyperTalk</strong>. All Rights Reserved
                    </div>
                    <div class="credits">
                        Designed by
                        <a href="team.html"> HyperBits</a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <nav class="footer-links text-lg-right text-center pt-2 pt-lg-0">
                        <a href="index.html" class="scrollto">Home</a>
                        <a href="aboutus.html" class="scrollto">About</a>
                        <a href="#">Privacy Policy</a>
                        <a href="#">Terms of Use</a>
                    </nav>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center">
        <i class="bi bi-arrow-up-short"></i>
    </a>

    <!-- Vendor JS Files -->
    <script type="module" src="static/assets_final/vendor/purecounter/purecounter_vanilla.js"></script>
    <!-- <script type="module"src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js" integrity="sha512-A7AYk1fGKX6S2SsHywmPkrnzTZHrgiVT7GcQkLGDe2ev0aWb8zejytzS8wjo7PGEXKqJOrjQ4oORtnimIRZBtw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <script type="module" src="static/assets_final/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="static/assets_final/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
    <script type="module" src="static/assets_final/vendor/swiper/swiper-bundle.min.js"></script>
    <script type="module" src="static/assets_final/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script type="module" src="static/assets_final/js/main.js"></script>

    <!-- Scripts -->
    <!-- Bootstrap core JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
        integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <!-- <script type="module" src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"></script>
    <!-- <script type="module" src="static/assets/js/isotope.min.js"></script> -->
    <script type="module" src="static/assets/js/owl-carousel.js"></script>
    <script type="module" src="static/assets/js/lightbox.js"></script>
    <script type="module" src="static/assets/js/tabs.js"></script>
    <script type="module" src="static/assets/js/video.js"></script>
    <script type="module" src="static/assets/js/slick-slider.js"></script>
    <script type="module" src="static/assets/js/custom.js"></script>
    <script src="./js/scripts.js" type="module"></script>
    <script type="module">

        import AOS from 'aos';
        import 'aos/dist/aos.css';
        // const $ = require('jquery');

        // Initialize AOS
        AOS.init();

        // according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
            var direction = section.replace(/#/, ''),
                reqSection = $('.section').filter('[data-section="' + direction + '"]'),
                reqSectionPos = reqSection.offset().top - 0;

            if (isAnimate) {
                $('body, html').animate({
                    scrollTop: reqSectionPos
                }, 800);
            } else {
                $('body, html').scrollTop(reqSectionPos);
            }

        };

        var checkSection = function checkSection() {
            $('.section').each(function () {
                var $this = $(this),
                    topEdge = $this.offset().top - 80,
                    bottomEdge = topEdge + $this.height(),
                    wScroll = $(window).scrollTop();
                if (topEdge < wScroll && bottomEdge > wScroll) {
                    var currentId = $this.data('section'),
                        reqLink = $('a').filter('[href*=\\#' + currentId + ']');
                    reqLink.closest('li').addClass('active').siblings().removeClass('active');
                }
            });
        };

        $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
            if ($(e.target).hasClass('external')) {
                return;
            }
            e.preventDefault();
            $('#menu').removeClass('active');
            showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
            checkSection();
        });
    </script>

    <script>

        var isactivated = false;
        $(document).ready(function () {
            // var html="<div class=\"backgroundImage mx-auto text-center\" style=\"height:600px;background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.6)), url( 'https://www.ohio.edu/sites/ohio.edu.news/files/2020-04/ASL_CHSP_Apr2020.jpeg');\"><img  id=\"modelImage\"src=\"static/assets/myimages/pngwing.com.png'%}\" alt=\"\"></div>";
            // $("#modelDiv").html(html);
        });
        let finalUrl = 'http://127.0.0.1:8000';
        let camera_button = document.getElementById("start-camera");
        let video = document.getElementById("video");
        let click_button = document.getElementById("click-photo");
        let canvas = document.getElementById("canvas");
        let stopCamera = document.getElementById("stop-camera");
        let srcImage = document.getElementById("srcImage");
        let showWord = document.getElementById("showWord");
        let readWord = document.getElementById("readWord");
        let stream;
        let looping = false;
        let word = "";
        let letter = "";
        // alert("ok");
        // start captureing
        camera_button.addEventListener('click', async function () {

            stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });
            video.srcObject = stream;
            looping = true;
            camera_button.classList.add("displayNone");
            stopCamera.classList.remove("displayNone");
            readWord.classList.add("displayNone");
            word = "";
            showWord.innerHTML = word;
            getImage();


        });

        // stop captureing
        stopCamera.addEventListener('click', function () {
            camera_button.classList.remove("displayNone");
            stopCamera.classList.add("displayNone");
            looping = false;
            stream.getTracks().forEach(function (track) {
                track.stop();
            });

        });

        // reading word
        readWord.addEventListener('click', function () {
            // alert("ok");
            $.ajax({
                type: "POST",
                url: finalUrl + "/sayWord",
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    word: word
                },
                success: function (data) { }
            });
        });

        document.addEventListener('keydown', function (event) {
            if (event.keyCode == 32 && event.target == document.body) {
                event.preventDefault();
            }
            let pattern = /[a-zA-Z0-9\.]/;
            let key = event.keyCode;
            if (looping) {
                if (key == 13) {
                    if (letter == "SPACE") {
                        word += " "
                    } else {
                        word += letter;
                    }
                } else if (key == 32) {
                    word += " ";
                } else if (key == 8) {
                    word = word.slice(0, -1);
                } else if (pattern.test(String.fromCharCode(key))) {
                    word += String.fromCharCode(key);
                }
                showWord.innerHTML = word;
                if (word.length > 0) {
                    readWord.classList.remove("displayNone");
                } else {
                    readWord.classList.add("displayNone");
                }
            }
        });


        function getImage() {
            canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
            let image_data_url = canvas.toDataURL('image/jpeg');
            $.ajax({ // async:false,
                type: "POST",
                url: finalUrl + "/imageData",
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    image: image_data_url
                },
                success: function (data) {
                    d = data['image'].slice(2, -1)
                    if (looping) {
                        srcImage.src = "data:image/jpeg;base64," + d;
                        letter = data['letter'];
                        getImage();
                    } else {
                        srcImage.src = "https://amayei.nyc3.digitaloceanspaces.com/2020/12/190605-artificial-intelligence-i-think-therefore-i-am.jpg";
                    }
                }
            });
        }
    </script>

    <script>
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition)();
        recognition.lang = 'en-US';

        let isRecording = false;

    var ftr = '';
    const startRecording = () => {
        ftr='';
      if (!isRecording) {
        isRecording = true;
        recognition.start();
        console.log('Speech recognition started...');
      }
    };

    const stopRecording = () => {
      if (isRecording) {
        isRecording = false;
        recognition.stop();
        console.log('Speech recognition stopped.');
      }
    };
    
     const processResult = (event) =>{
                var interimTranscripts = '';
                for (var i = event.resultIndex; i < event.results.length; i++) {
                    var transcript = event.results[i][0].transcript;
                    transcript.replace("\n", "<br>")
                    if (event.results[i].isFinal) {
                        ftr += transcript;
                    } else
                        interimTranscripts += transcript;


                }
                document.getElementById('result').value = ftr + interimTranscripts;
            

            };

        recognition.onresult = processResult;
        recognition.onerror = (event) => {
            console.error('Speech recognition error:', event.error);
        };


        // $(document).ready(function () {
        //     $("#send").click(function (event) {
        //         $.ajax({
        //             type: "POST",
        //             url: finalUrl + "/audio_data/",
        //             data: {
        //                 send: $('#result').val()
        //             },
        //             success: function () {
        //                 alert("Audio succesfully Submitted");
        //             }
        //         });
        //     });
        // });
    </script>
     <script type="module">
        //   handleWindowResize();
        //   alert("ok");
    </script>

</body>

</html>